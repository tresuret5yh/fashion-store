apiVersion: 1

datasources:
  # Конфигурация источника данных Prometheus
  - name: Prometheus
    type: prometheus
    access: proxy
    url: http://prometheus:9090
    isDefault: true
    editable: true
    
    # Настройки для версии Prometheus 2.x
    jsonData:
      timeInterval: 15s
      queryTimeout: 60s
      httpMethod: POST
      manageAlerts: true
      
      # Настройки алертинга (если используется)
      alertmanagerUid: 'alertmanager'  # Раскомментировать при наличии Alertmanager
      
      # Дополнительные метки
      customLabels:
        environment: 'development'
        project: 'fashion-store'
      
    # Безопасность (для продакшена нужно настроить правильно)
    secureJsonData:
      # tlsCACert: ...  # Для HTTPS
      # tlsClientCert: ...
      # tlsClientKey: ...
      
  # Пример дополнительного источника данных (можно добавить позже)
  # - name: PostgreSQL
  #   type: postgres
  #   url: postgres-auth:5432
  #   database: auth_db
  #   user: admin
  #   secureJsonData:
  #     password: 'password'
  #   jsonData:
  #     sslmode: 'disable'
  #     postgresVersion: 1400
  #     timescaledb: false

  # Пример для Loki (система логирования)
  # - name: Loki
  #   type: loki
  #   url: http://loki:3100
  #   access: proxy
  #   jsonData:
  #     maxLines: 1000
