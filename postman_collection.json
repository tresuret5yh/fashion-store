{
  "info": {
    "_postman_id": "fashion-store-microservices",
    "name": "Fashion Store Microservices",
    "description": "Коллекция для тестирования курсовой работы по микросервисной архитектуре магазина одежды",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "1. Health Checks",
      "item": [
        {
          "name": "GET API Gateway Health",
          "id": "19fa5e71-2028-4c28-953b-331e694b899a",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:5007/health",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "5007",
              "path": [
                "health"
              ]
            },
            "description": "Проверка здоровья API Gateway"
          },
          "response": []
        },
        {
          "name": "GET Auth Service Health",
          "id": "d7af3d1e-0b3e-4dc3-bc41-859047a713a4",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:5000/health",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "5000",
              "path": [
                "health"
              ]
            },
            "description": "Проверка здоровья сервиса аутентификации"
          },
          "response": []
        },
        {
          "name": "GET Catalog Service Health",
          "id": "df17a28b-074a-4228-ae71-6935d628bb92",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:5001/health",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "5001",
              "path": [
                "health"
              ]
            },
            "description": "Проверка здоровья сервиса каталога (CQRS)"
          },
          "response": []
        },
        {
          "name": "GET Order Service Health",
          "id": "5c7c549f-1c5c-49fc-a1f1-803f49abc902",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:5002/health",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "5002",
              "path": [
                "health"
              ]
            },
            "description": "Проверка здоровья сервиса заказов (Saga)"
          },
          "response": []
        },
        {
          "name": "GET Payment Service Health",
          "id": "5d40583f-f3f2-4bea-8c8e-a97917378eb2",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:5003/health",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "5003",
              "path": [
                "health"
              ]
            },
            "description": "Проверка здоровья платежного сервиса"
          },
          "response": []
        },
        {
          "name": "GET Inventory Service Health",
          "id": "f74c7868-b641-476b-a183-9cd7db8bf9aa",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:5004/health",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "5004",
              "path": [
                "health"
              ]
            },
            "description": "Проверка здоровья сервиса инвентаря"
          },
          "response": []
        },
        {
          "name": "GET Notification Service Health",
          "id": "5f42a9a6-29c9-49b4-bbfd-fb9f54cda730",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:5005/health",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "5005",
              "path": [
                "health"
              ]
            },
            "description": "Проверка здоровья сервиса уведомлений"
          },
          "response": []
        },
        {
          "name": "GET Review Service Health",
          "id": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:5006/health",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "5006",
              "path": [
                "health"
              ]
            },
            "description": "Проверка здоровья сервиса отзывов"
          },
          "response": []
        },
        {
          "name": "GET User Service Health",
          "id": "b2c3d4e5-f6a7-8901-bcde-f23456789012",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:5007/health",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "5007",
              "path": [
                "health"
              ]
            },
            "description": "Проверка здоровья сервиса профилей пользователей"
          },
          "response": []
        }
      ],
      "id": "45128060-2d29-4920-a16b-08bedcf2b323",
      "description": "Проверка здоровья всех микросервисов"
    },
    {
      "name": "2. Authentication",
      "item": [
        {
          "name": "POST Register User",
          "id": "b96e81da-e2a6-4d1f-9f33-d001afc83374",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Ilx1MDQxYVx1MDQzMFx1MDQ0MFx1MDQzOFx1MDQzZFx1MDQzMCIsInJvbGUiOiJjdXN0b21lcnIiLCJleHAiOjE3Njg0NjkyOTF9.fD6Z-i3ZnSfIrMejq7DlHhfEji0wpSNEIZxTFayjaeg",
                "type": "text",
                "uuid": "75f0841e-a783-4ac4-943a-585a1e4e638e"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"username\": \"Лена\",\n    \"password\": \"SecurePass123\",\n    \"email\": \"Lena_test@example.com\",\n    \"full_name\": \"Елена Михайлова\",\n    \"role\": \"клиент\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:5000/api/v1/auth/register",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "5000",
              "path": [
                "api",
                "v1",
                "auth",
                "register"
              ]
            },
            "description": "Регистрация нового пользователя"
          },
          "response": []
        },
        {
          "name": "POST Login User",
          "id": "98e7237c-c169-41f9-8fb3-29682c20ad45",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Ilx1MDQxYVx1MDQzMFx1MDQ0MFx1MDQzOFx1MDQzZFx1MDQzMCIsInJvbGUiOiJjdXN0b21lcnIiLCJleHAiOjE3Njg0NzA4ODZ9.vQ-02s4gNPTRPCESxpG3DDa51zWwdozC6L0ApbvneSk",
                "type": "text",
                "uuid": "993b690b-9b96-4897-aba8-ef0bcd40df3d",
                "disabled": true
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"username\": \"Лена\",\n    \"password\": \"SecurePass123\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:5000/api/v1/auth/login",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "5000",
              "path": [
                "api",
                "v1",
                "auth",
                "login"
              ]
            },
            "description": "Аутентификация пользователя и получение JWT токена"
          },
          "response": []
        },
        {
          "name": "GET Verify Token",
          "id": "961f715c-62a9-4456-a59a-eb140bd229df",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Ilx1MDQxYlx1MDQzNVx1MDQzZFx1MDQzMCIsInJvbGUiOiJcdTA0M2FcdTA0M2JcdTA0MzhcdTA0MzVcdTA0M2RcdTA0NDIiLCJleHAiOjE3Njg0Nzc5NTJ9.P-MHyKiajkyy3YWic90WOgdRxIXX-v3JE-m3i-mCt74",
                "type": "text",
                "uuid": "4426a823-f911-4faf-b595-ddfb5cac8f4f"
              }
            ],
            "url": {
              "raw": "http://localhost:5000/api/v1/auth/verify",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "5000",
              "path": [
                "api",
                "v1",
                "auth",
                "verify"
              ]
            },
            "description": "Проверка валидности JWT токена"
          },
          "response": []
        },
        {
          "name": "GET Circuit Breaker Test",
          "id": "7fba6bd2-c61c-4b17-a9a1-768bc5347afb",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:5000/api/v1/auth/circuit-breaker",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "5000",
              "path": [
                "api",
                "v1",
                "auth",
                "circuit-breaker"
              ]
            },
            "description": "Тестирование Circuit Breaker паттерна (имитация сбоев)"
          },
          "response": []
        }
      ],
      "id": "6a02ef13-5afd-4eeb-8067-73815929095b",
      "description": "Тестирование аутентификации и авторизации"
    },
    {
      "name": "3. Catalog Service (CQRS)",
      "item": [
        {
          "name": "POST Create Product (Command)",
          "id": "937d9a65-3bb0-4f81-ba09-cee0e77ed7c1",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Платье вечернее атласное\",\n  \"description\": \"Элегантное платье из атласа с открытой спиной и драпировкой\",\n  \"price\": 15999.00,\n  \"category\": \"одежда\",\n  \"size\": \"M\",\n  \"color\": \"бордовый\",\n  \"stock_quantity\": 10\n}\n\n\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:5001/api/v1/products",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "5001",
              "path": [
                "api",
                "v1",
                "products"
              ]
            },
            "description": "Создание нового товара (CQRS - Command операция)"
          },
          "response": []
        },
        {
          "name": "GET Get All Products (Query)",
          "id": "98a31ad6-6233-42c0-90fb-787dafd256ce",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:5001/api/v1/products",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "5001",
              "path": [
                "api",
                "v1",
                "products"
              ]
            },
            "description": "Получение списка всех товаров (CQRS - Query операция)"
          },
          "response": []
        },
        {
          "name": "GET Get Product by ID (Query)",
          "id": "755e5b56-083d-46af-8b07-0a8c7d2a93e5",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:5001/api/v1/products/1",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "5001",
              "path": [
                "api",
                "v1",
                "products",
                "1"
              ]
            },
            "description": "Получение информации о конкретном товаре (CQRS - Query операция)"
          },
          "response": []
        },
        {
          "name": "PUT Update Product Stock (Command)",
          "id": "9532cfa2-9d56-4f09-8c6d-3f64d9efcd74",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"quantity\": 100\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:5001/api/v1/products/3/stock",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "5001",
              "path": [
                "api",
                "v1",
                "products",
                "3",
                "stock"
              ]
            },
            "description": "Обновление количества товара на складе (CQRS - Command операция)"
          },
          "response": []
        },
        {
          "name": "GET Get Products with Filters (Query)",
          "id": "81b6fe74-fcfd-473f-b7df-35f3680327f2",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:5001/api/v1/products?category=обувь&size=43",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "5001",
              "path": [
                "api",
                "v1",
                "products"
              ],
              "query": [
                {
                  "key": "category",
                  "value": "обувь",
                  "uuid": "8c0c4f9a-41c6-47c0-b2aa-73b912173f72"
                },
                {
                  "key": "size",
                  "value": "43",
                  "uuid": "b9a139ea-f544-4be9-b26d-e28d19935809"
                }
              ]
            },
            "description": "Получение товаров с фильтрацией (CQRS - Query операция)"
          },
          "response": []
        }
      ],
      "id": "1ac44ac0-c4c9-4d7c-8d67-9568be86c880",
      "description": "Демонстрация CQRS паттерна: разделение операций чтения и записи"
    },
    {
      "name": "4. Order Service (Saga)",
      "item": [
        {
          "name": "POST Create Order (Start Saga)",
          "id": "696ebb2f-612b-438d-9ce1-0743eb6255e5",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n   \"username\": \"Карина\",\n    \"items\": [\n        {\n            \"product_id\": 4,\n            \"name\": \"Футболка базовая\",\n            \"quantity\": 2,\n            \"price\": 1499.5\n        },\n        {\n            \"product_id\": 2,\n            \"name\": \"зимняя\",\n            \"quantity\": 1,\n            \"price\": 12999.99\n        }\n    ]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:5002/api/v1/orders",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "5002",
              "path": [
                "api",
                "v1",
                "orders"
              ]
            },
            "description": "Создание заказа с использованием Saga паттерна\n\nSaga шаги:\n1. Проверка наличия товара (inventory-service)\n2. Обработка платежа (payment-service)\n3. Отправка уведомления (notification-service)\n\nПри ошибке - компенсирующие транзакции"
          },
          "response": []
        },
        {
          "name": "POST Create Order with Error (Saga Compensation)",
          "id": "30806931-753c-43bd-8109-40c861efa0c4",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"user_id\": \"customer1\",\n    \"items\": [\n        {\n            \"product_id\": 999,\n            \"name\": \"Несуществующий товар\",\n            \"quantity\": 100,\n            \"price\": 100000.0\n        }\n    ]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:5002/api/v1/orders",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "5002",
              "path": [
                "api",
                "v1",
                "orders"
              ]
            },
            "description": "Создание заказа, который вызовет ошибку и демонстрацию компенсирующих транзакций Saga"
          },
          "response": []
        },
        {
          "name": "GET Get Order Status",
          "id": "12205c45-97d1-4258-bdc1-8dec698a6fea",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:5002/api/v1/orders/10385d55",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "5002",
              "path": [
                "api",
                "v1",
                "orders",
                "10385d55"
              ]
            },
            "description": "Получение текущего статуса заказа Saga"
          },
          "response": []
        },
        {
          "name": "GET Get All Orders",
          "id": "b1c0f398-1aca-4bb9-96fc-c1685eac2cc8",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:5002/api/v1/orders",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "5002",
              "path": [
                "api",
                "v1",
                "orders"
              ]
            },
            "description": "Получение списка всех заказов"
          },
          "response": []
        }
      ],
      "id": "530f1d5f-0659-4920-80cf-28271787953d",
      "description": "Демонстрация Saga паттерна для распределенных транзакций"
    },
    {
      "name": "5. API Gateway Demo",
      "item": [
        {
          "name": "GET Auth через Gateway",
          "id": "d5a89161-ece5-4364-9172-f08945fb1a16",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Ilx1MDQyMVx1MDQzMFx1MDQ0OFx1MDQzMCIsInJvbGUiOiJcdTA0M2ZcdTA0M2VcdTA0M2JcdTA0NGNcdTA0MzdcdTA0M2VcdTA0MzJcdTA0MzBcdTA0NDJcdTA0MzVcdTA0M2JcdTA0NGMiLCJleHAiOjE3Njg0NzY3OTF9.xclovja4sVjfBwWvBJAd9ZRw3afdWqPBNcZRJERCO3M"
              }
            ],
            "url": {
              "raw": "http://localhost:8000/api/v1/auth/verify",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8000",
              "path": [
                "api",
                "v1",
                "auth",
                "verify"
              ]
            },
            "description": "Доступ к Auth Service через API Gateway"
          },
          "response": []
        },
        {
          "name": "GET Catalog через Gateway",
          "id": "9249c120-8dbf-4871-92c4-2c68413ebed1",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "http://localhost:8000/api/v1/catalog/products",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8000",
              "path": [
                "api",
                "v1",
                "catalog",
                "products"
              ]
            },
            "description": "Доступ к Catalog Service через API Gateway"
          },
          "response": []
        },
        {
          "name": "GET Orders через Gateway",
          "id": "aacd0c57-2e36-40f6-b276-e68211c0d3fa",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "http://localhost:8000/api/v1/orders",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8000",
              "path": [
                "api",
                "v1",
                "orders"
              ]
            },
            "description": "Доступ к Order Service через API Gateway"
          },
          "response": []
        },
        {
          "name": "GET User Profile через Gateway",
          "id": "c3d4e5f6-g7h8-i9j0-k1l2-m3n4o5p6q7r8",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "http://localhost:8000/api/v1/user/test_user_1768385305593",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8000",
              "path": [
                "api",
                "v1",
                "user",
                "test_user_1768385305593"
              ]
            },
            "description": "Доступ к User Service через API Gateway"
          },
          "response": []
        },
        {
          "name": "GET Reviews for Product через Gateway",
          "id": "d4e5f6g7-h8i9-j0k1-l2m3-n4o5p6q7r8s9",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "http://localhost:8000/api/v1/review/product/1",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8000",
              "path": [
                "api",
                "v1",
                "review",
                "product",
                "1"
              ]
            },
            "description": "Доступ к Review Service через API Gateway"
          },
          "response": []
        }
      ],
      "id": "94ecb8c7-df42-44d1-ad88-2110bf1fbc64",
      "description": "Демонстрация работы API Gateway паттерна"
    },
    {
      "name": "6. Monitoring",
      "item": [
        {
          "name": "GET Prometheus Metrics",
          "id": "64a604d3-5254-45c9-a0c8-de5d310eb37e",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:5000/metrics",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "5000",
              "path": [
                "metrics"
              ]
            },
            "description": "Получение метрик Prometheus из сервиса аутентификации"
          },
          "response": []
        },
        {
          "name": "GET Order Service Metrics",
          "id": "cbd30d6a-30a9-4476-90cc-8bc596e42eb9",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:5002/metrics",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "5002",
              "path": [
                "metrics"
              ]
            },
            "description": "Получение метрик Prometheus из сервиса заказов"
          },
          "response": []
        },
        {
          "name": "GET Grafana Health",
          "id": "a19eece8-096e-4b12-a24d-2e55f6f3de26",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/api/health",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3000",
              "path": [
                "api",
                "health"
              ]
            },
            "description": "Проверка здоровья Grafana"
          },
          "response": []
        }
      ],
      "id": "a69b2ba1-2923-43e3-a19b-5cddc99bc5be",
      "description": "Демонстрация мониторинга и метрик"
    },
    {
      "name": "7. Complete Flow (Сквозной тест)",
      "item": [
        {
          "name": "✅ Шаг 1: Регистрация пользователя",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "aa432775-9995-4f8d-9386-063a7d366fbb",
                "exec": [
                  "// Шаг 1: Регистрация нового пользователя",
                  "pm.environment.set('timestamp', new Date().getTime());",
                  "",
                  "const registerBody = {",
                  "    username: `test_user_${pm.environment.get('timestamp')}`,",
                  "    password: 'TestPassword123',",
                  "    email: `test_${pm.environment.get('timestamp')}@example.com`,",
                  "    full_name: 'Тестовый Пользователь',",
                  "    role: 'customer'",
                  "};",
                  "",
                  "pm.environment.set('test_user', JSON.stringify(registerBody));"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "70d509ec-6303-48a2-a390-a272d87fe3c2",
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "id": "367de8ea-3b9f-43e7-b5bd-fc2615f0bbd2",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"username\": \"Саша\",\r\n    \"password\": \"SecurePass123\",\r\n    \"email\": \"Sasha_test@example.com\",\r\n    \"full_name\": \"Саша Смиронова\",\r\n    \"role\": \"пользователь\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:5000/api/v1/auth/register",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "5000",
              "path": [
                "api",
                "v1",
                "auth",
                "register"
              ]
            }
          },
          "response": []
        },
        {
          "name": "✅ Шаг 2: Аутентификация",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "fa6d3c61-9f2a-4eff-8ab1-22ec1a283cc3",
                "exec": [
                  "// Шаг 2: Аутентификация пользователя",
                  "const userData = JSON.parse(pm.environment.get('test_user'));",
                  "",
                  "const loginBody = {",
                  "    username: userData.username,",
                  "    password: userData.password",
                  "};",
                  "",
                  "pm.environment.set('login_body', JSON.stringify(loginBody));"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "ccaf6dde-4b29-49de-af9b-62df4e09e628",
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "id": "790ae985-8bb4-4693-bd8c-2a368d5f7a0e",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3RfdXNlcl8xNzY4Mzg1MzA1NTkzIiwicm9sZSI6ImN1c3RvbWVyIiwiZXhwIjoxNzY4NDcxODMzfQ.T09bexme54i7ttO75_uk3goElHp22DEvU9iulD4lWJg",
                "type": "text",
                "uuid": "6b47a236-0e6e-4bef-9956-fb6ec85cc45d",
                "disabled": true
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"username\":\"Саша\",\r\n\"password\":\"SecurePass123\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:5000/api/v1/auth/login",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "5000",
              "path": [
                "api",
                "v1",
                "auth",
                "login"
              ]
            }
          },
          "response": []
        },
        {
          "name": "✅ Шаг 3: Создание товара (CQRS)",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "34c747eb-1c8d-463c-8795-72dafe048b3f",
                "exec": [
                  "// Шаг 3: Создание товара (CQRS Command)",
                  "const newProduct = {",
                  "    name: 'Демо куртка зимняя',",
                  "    description: 'Теплая куртка для зимы',",
                  "    price: 12999.99,",
                  "    category: 'одежда',",
                  "    size: 'L',",
                  "    color: 'синий',",
                  "    stock_quantity: 25",
                  "};",
                  "",
                  "pm.environment.set('new_product', JSON.stringify(newProduct));"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "d5b7c441-da0b-46c1-bba7-dafa43bf1ef2",
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "id": "1aa24d22-edc9-4c12-8167-02aefd1ec59d",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"name\": \"Куртка зимний\",\r\n  \"description\": \"Куртка с карманами\",\r\n  \"price\": 4700.00,\r\n  \"category\": \"одежда\",\r\n  \"size\": \"M\",\r\n  \"color\": \"белый\",\r\n  \"stock_quantity\": 10\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:5001/api/v1/products",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "5001",
              "path": [
                "api",
                "v1",
                "products"
              ]
            }
          },
          "response": []
        },
        {
          "name": "✅ Шаг 4: Создание заказа (Saga)",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "1602655c-a5d7-47ee-9bf8-f4adcfb30fe7",
                "exec": [
                  "// Шаг 4: Создание заказа (Saga)",
                  "const userData = JSON.parse(pm.environment.get('test_user'));",
                  "",
                  "const orderBody = {",
                  "    user_id: userData.username,",
                  "    items: [",
                  "        {",
                  "            product_id: 1,",
                  "            name: 'Джинсы Levi\\'s',",
                  "            quantity: 1,",
                  "            price: 5000.0",
                  "        },",
                  "        {",
                  "            product_id: 2,",
                  "            name: 'Футболка Nike',",
                  "            quantity: 2,",
                  "            price: 2500.0",
                  "        }",
                  "    ]",
                  "};",
                  "",
                  "pm.environment.set('order_body', JSON.stringify(orderBody));"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "3f8228b9-9b57-4011-aa61-b7693361a3a4",
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "id": "4a2fae84-ffce-4397-bae1-4dc1bf29707f",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n   \"user_id\": \"test_user_1768385305593\",\r\n    \"items\": [\r\n        {\r\n            \"product_id\": 4,\r\n            \"name\": \"Футболка базовая\",\r\n            \"quantity\": 2,\r\n            \"price\": 1499.5\r\n       }\r\n    ]\r\n      }\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:5002/api/v1/orders",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "5002",
              "path": [
                "api",
                "v1",
                "orders"
              ]
            }
          },
          "response": []
        },
        {
          "name": "✅ Шаг 5: Проверка статуса заказа",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "87ea2739-d383-41b5-8420-1f35245c44c3",
                "exec": [
                  "// Шаг 5: Проверка статуса заказа",
                  "// Задержка для обработки Saga",
                  "setTimeout(() => {",
                  "    console.log('Проверяем статус заказа...');",
                  "}, 3000);"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "7986eae3-381b-4247-9b4f-bae36345d247",
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "id": "ab58182f-e31c-47a4-8b78-a7e7d341e6f3",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:5002/api/v1/orders/e2e21d2d",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "5002",
              "path": [
                "api",
                "v1",
                "orders",
                "e2e21d2d"
              ]
            }
          },
          "response": []
        },
        {
          "name": "✅ Шаг 6: Проверка уведомлений",
          "id": "3eb3356c-f8d6-4038-853a-7a71d703c2d4",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text",
                "uuid": "91cb4f4c-ea01-44b1-8d3b-c86a42b16d57",
                "disabled": true
              }
            ],
            "url": {
              "raw": "http://localhost:5005/api/v1/notifications",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "5005",
              "path": [
                "api",
                "v1",
                "notifications"
              ]
            },
            "description": "Проверка отправленных уведомлений"
          },
          "response": []
        },
        {
          "name": "✅ Шаг 7: Создать профиль пользователя",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6877d2b1-d71d-49a2-b73b-c0b78adc95a0",
                "exec": [
                  "// Шаг 7: Создание профиля в User Service",
                  "const userData = JSON.parse(pm.environment.get('test_user'));",
                  "const profileBody = {",
                  "    full_name: userData.full_name,",
                  "    email: userData.email,",
                  "    phone: '+79991234567',",
                  "    address: 'ул. Тестовая, д. 1',",
                  "    city: 'Москва',",
                  "    country: 'Россия',",
                  "    postal_code: '123456'",
                  "};",
                  "pm.environment.set('profile_body', JSON.stringify(profileBody));",
                  "pm.environment.set('user_id', userData.username);"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "dfe5576c-0f6d-4c0e-aac9-154ff6547e81",
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "id": "e5f6g7h8-i9j0-k1l2-m3n4-o5p6q7r8s9t0",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Ilx1MDQyMVx1MDQzMFx1MDQ0OFx1MDQzMCIsInJvbGUiOiJcdTA0M2ZcdTA0M2VcdTA0M2JcdTA0NGNcdTA0MzdcdTA0M2VcdTA0MzJcdTA0MzBcdTA0NDJcdTA0MzVcdTA0M2JcdTA0NGMiLCJleHAiOjE3Njg0Nzg5OTF9.xSsFKffFkNBZTQGwhlm5tmeYUG1n4U5q6SPCeyaK4Q0",
                "type": "text",
                "uuid": "71787bed-e32e-49ba-baf7-5354cc413734"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"full_name\": \"Саша Смиронова\",\r\n  \"email\": \"Sasha_test@example.com\",\r\n  \"phone\": \"+79991234567\",\r\n  \"address\": \"ул. Ленина, д. 1\",\r\n  \"city\": \"Москва\",\r\n  \"country\": \"Россия\",\r\n  \"postal_code\": \"123456\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:8000/api/v1/user/test_user_1768385305593",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8000",
              "path": [
                "api",
                "v1",
                "user",
                "test_user_1768385305593"
              ]
            }
          },
          "response": []
        },
        {
          "name": "✅ Шаг 8: Оставить отзыв",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "45f0e1e1-9d37-4e5b-8a95-9805a78be7de",
                "exec": [
                  "// Шаг 8: Оставить отзыв на товар",
                  "const reviewBody = {",
                  "    product_id: 1,",
                  "    user_id: pm.environment.get('user_id'),",
                  "    rating: 5,",
                  "    comment: 'Отличный товар! Быстрая доставка.'",
                  "};",
                  "pm.environment.set('review_body', JSON.stringify(reviewBody));"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "2eb91162-d11d-4663-b76b-37fa80a04c34",
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "id": "f6g7h8i9-j0k1-l2m3-n4o5-p6q7r8s9t0u1",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"product_id\": 17,\r\n  \"user_id\": \"Саша\",\r\n  \"rating\": 5,\r\n  \"comment\": \"Отличная футболка!\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:8000/api/v1/review",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8000",
              "path": [
                "api",
                "v1",
                "review"
              ]
            }
          },
          "response": []
        },
        {
          "name": "✅ Шаг 9: Получить отзывы",
          "id": "g7h8i9j0-k1l2-m3n4-o5p6-q7r8s9t0u1v2",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Ilx1MDQyMVx1MDQzMFx1MDQ0OFx1MDQzMCIsInJvbGUiOiJcdTA0M2ZcdTA0M2VcdTA0M2JcdTA0NGNcdTA0MzdcdTA0M2VcdTA0MzJcdTA0MzBcdTA0NDJcdTA0MzVcdTA0M2JcdTA0NGMiLCJleHAiOjE3Njg0Nzg5OTF9.xSsFKffFkNBZTQGwhlm5tmeYUG1n4U5q6SPCeyaK4Q0",
                "type": "text",
                "uuid": "c393f6a5-d4ee-4a20-9d8f-9cf07366a75b"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text",
                "uuid": "c24d3de8-dcb9-4b12-b3db-e5d7347a6cb4",
                "disabled": true
              }
            ],
            "url": {
              "raw": "http://localhost:8000/api/v1/review/product/1",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8000",
              "path": [
                "api",
                "v1",
                "review",
                "product",
                "1"
              ]
            }
          },
          "response": []
        }
      ],
      "id": "3c343c5c-398f-4beb-9680-70e061b86bad",
      "description": "Полный сценарий работы магазина одежды"
    },
    {
      "name": "8. User Service",
      "item": [
        {
          "name": "POST Create User Profile",
          "id": "h8i9j0k1-l2m3-n4o5-p6q7-r8s9t0u1v2w3",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "Authorization",
                "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Ilx1MDQxYlx1MDQzNVx1MDQzZFx1MDQzMCIsInJvbGUiOiJcdTA0M2FcdTA0M2JcdTA0MzhcdTA0MzVcdTA0M2RcdTA0NDIiLCJleHAiOjE3Njg0NzgyMTV9.m-dgtG8fHx_5UuHYwkRkeTzYtdGtUso8bJkTP7lXvs4",
                "type": "text",
                "uuid": "0048cb39-7aa7-4264-83d7-e5b57dabca99"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"full_name\": \"Лена Михайлова\",\n  \"email\": \"Lena_test@example.com\",\n  \"phone\": \"+79991234567\",\n  \"address\": \"ул. Ленина, д. 1\",\n  \"city\": \"Москва\",\n  \"country\": \"Россия\",\n  \"postal_code\": \"123456\"\n}\n\n\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:8000/api/v1/user/Карина",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8000",
              "path": [
                "api",
                "v1",
                "user",
                "Карина"
              ]
            }
          },
          "response": []
        },
        {
          "name": "GET Get User Profile",
          "id": "i9j0k1l2-m3n4-o5p6-q7r8-s9t0u1v2w3x4",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Ilx1MDQxYlx1MDQzNVx1MDQzZFx1MDQzMCIsInJvbGUiOiJcdTA0M2FcdTA0M2JcdTA0MzhcdTA0MzVcdTA0M2RcdTA0NDIiLCJleHAiOjE3Njg0NzgyMTV9.m-dgtG8fHx_5UuHYwkRkeTzYtdGtUso8bJkTP7lXvs4"
              }
            ],
            "url": {
              "raw": "http://localhost:8000/api/v1/user/Карина",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8000",
              "path": [
                "api",
                "v1",
                "user",
                "Карина"
              ]
            }
          },
          "response": []
        },
        {
          "name": "PUT Update User Profile",
          "id": "j0k1l2m3-n4o5-p6q7-r8s9-t0u1v2w3x4y5",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"full_name\": \"Анна Петрова\",\n  \"email\": \"anna.petrova@example.com\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:8000/api/v1/user/test_user_123",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8000",
              "path": [
                "api",
                "v1",
                "user",
                "test_user_123"
              ]
            }
          },
          "response": []
        }
      ],
      "id": "k1l2m3n4-o5p6-q7r8-s9t0-u1v2w3x4y5z6",
      "description": "Управление профилями пользователей"
    },
    {
      "name": "9. Review Service",
      "item": [
        {
          "name": "POST Create Review",
          "id": "l2m3n4o5-p6q7-r8s9-t0u1-v2w3x4y5z6a7",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "disabled": true
              },
              {
                "key": "Authorization",
                "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Ilx1MDQxYlx1MDQzNVx1MDQzZFx1MDQzMCIsInJvbGUiOiJcdTA0M2FcdTA0M2JcdTA0MzhcdTA0MzVcdTA0M2RcdTA0NDIiLCJleHAiOjE3Njg0NzgyMTV9.m-dgtG8fHx_5UuHYwkRkeTzYtdGtUso8bJkTP7lXvs4",
                "type": "text",
                "uuid": "4944219a-5574-435c-87eb-d1f316891056",
                "disabled": true
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"product_id\": 2,\n  \"user_id\": \"Карина\",\n  \"rating\": 5,\n  \"comment\": \"Отличные джинсы!\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:8000/api/v1/review/",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8000",
              "path": [
                "api",
                "v1",
                "review",
                ""
              ]
            }
          },
          "response": []
        },
        {
          "name": "GET Get Reviews for Product",
          "id": "m3n4o5p6-q7r8-s9t0-u1v2-w3x4y5z6a7b8",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8000/api/v1/review/product/1",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8000",
              "path": [
                "api",
                "v1",
                "review",
                "product",
                "1"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Остатки товаров",
          "id": "bf5250f7-cc85-4017-a3be-5ad49b582f21",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:5004/api/v1/inventory/2",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "5004",
              "path": [
                "api",
                "v1",
                "inventory",
                "2"
              ]
            }
          },
          "response": []
        }
      ],
      "id": "n4o5p6q7-r8s9-t0u1-v2w3-x4y5z6a7b8c9",
      "description": "Управление отзывами о товарах"
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Установка переменных окружения при запуске коллекции",
          "console.log('Fashion Store Microservices - Тестирование курсовой работы');",
          "console.log('Архитектура: 9 микросервисов, Saga, CQRS, API Gateway');",
          "",
          "// Создаем timestamp для уникальных данных",
          "if (!pm.environment.get('timestamp')) {",
          "    pm.environment.set('timestamp', new Date().getTime());",
          "}",
          "",
          "// Предустановленные данные",
          "pm.environment.set('auth_token', 'test_token');",
          "pm.environment.set('order_id', 'test_order_123');",
          "pm.environment.set('user_id', '');"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Общие тесты для всех запросов",
          "pm.test('Статус код успешный', function () {",
          "    pm.response.to.have.status([200, 201, 202]);",
          "});",
          "",
          "pm.test('Ответ в формате JSON', function () {",
          "    pm.response.to.be.json;",
          "});",
          "",
          "pm.test('Время ответа приемлемое', function () {",
          "    pm.expect(pm.response.responseTime).to.be.below(5000);",
          "});"
        ]
      }
    }
  ],
  "variable": [
    {
      "id": "91b721f2-4530-4066-a775-6389ee8d93e4",
      "key": "base_url",
      "value": "http://localhost"
    },
    {
      "id": "c7637455-97bb-4bea-831b-18db4c1a7905",
      "key": "auth_token",
      "value": ""
    },
    {
      "id": "8dde629d-8908-42ee-b5ab-c9a0f914f306",
      "key": "order_id",
      "value": ""
    },
    {
      "id": "ba862fdc-4b75-4a1d-af4b-0c67d5455cd8",
      "key": "test_user",
      "value": ""
    },
    {
      "id": "xyz123",
      "key": "user_id",
      "value": ""
    }
  ]
}